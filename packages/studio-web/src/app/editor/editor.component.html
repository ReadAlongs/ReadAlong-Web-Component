<section class="container-fluid mt-1">
  <div class="row justify-content-center">
    <button
      i18n="Take the tour"
      class="mb-4 col-8 center text-center plausible-event-name=Tour"
      mat-raised-button
      color="primary"
      (click)="startTour()"
    >
      Take the tour!
    </button>
  </div>
</section>
<section id="editor">
  <div class="container-fluid mb-2 mt-5">
    <div class="row justify-content-center mb-5">
      <div class="col-6 col-md-4 .offset-md-2">
        <h1 i18n="Welcome message for app editor" id="welcome-header">
          Welcome to the ReadAlong Studio Editor
        </h1>
      </div>
      <div
        class="col-6 col-md-4"
        *ngIf="
          uploadFormGroup.valid && audioB64Control$.value && rasControl$.value
        "
      >
        <ras-shared-download
          [slots]="slots"
          [readalong]="readalong"
          [b64Audio]="audioB64Control$.value"
          [rasXML]="rasControl$.value"
        ></ras-shared-download>
      </div>
    </div>
    <div class="row justify-content-center mb-6">
      <div class="col-8">
        <p i18n="Title for upload box" class="subtitle">
          Select an offline HTML ReadAlong file. To get this file, you should
          have created a ReadAlong using the <a routerLink="/">Studio</a>, and
          then selected "Offline HTML" as the output. Or, you can use the
          Offline-HTML file included in the Web Bundle download format.
        </p>
        <input
          #textInputElement
          (change)="onRasFileSelected($event)"
          class="form-control"
          name="text"
          type="file"
          id="updateRAS"
          accept=".html"
        />
      </div>
    </div>
  </div>
  <div class="row justify-content-center">
    <div class="col-8">
      <div id="readalongContainer" #readalongContainer></div>
    </div>
  </div>
  <div class="row justify-content-center mt-5 mb-5">
    <div class="col-8" id="audioToolbar">
      <mat-toolbar *ngIf="audioControl$.valid">
        <span>Audio Toolbar</span>
        <span class="example-spacer"></span>
        <span id="zoomControls">
          <button
            (click)="zoomIn()"
            mat-icon-button
            class="example-icon zoom-in-icon"
            aria-label="Zoom in icon for audio waveform"
          >
            <mat-icon>zoom_in</mat-icon>
          </button>
          <button
            (click)="zoomOut()"
            mat-icon-button
            class="example-icon"
            aria-label="Zoom out icon for audio waveform"
          >
            <mat-icon>zoom_out</mat-icon>
          </button></span
        >
      </mat-toolbar>
      <div class="pure-u-1" id="wavesurferContainer" #wavesurferContainer></div>
    </div>
  </div>
</section>
